<!DOCTYPE html>
<html>
  
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta name="author" content="Peng Xuefeng">
  
  
  <title>c语言知识 | Mylog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">





  
    <meta name="keywords" content="C语言,">
  

  
  <meta name="description" content="C语言基础知识">

  

  
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.11.1/dist/av-min.js" async></script>
  

  
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
  

  
    <script src="//unpkg.com/valine/dist/Valine.min.js" async></script>
  

  






  <script>
  // theme-ad's config script
  // it can be used in every script
  
  window.AD_CONFIG = {
    leancloud: {"appid":"NEkcFXWlMNvrkLMaEswSfvM5-gzGzoHsz","appkey":"lqM12chVkQBDlkx4JFfQt8AE","comment":true,"count":true},
    welcome: {"enable":"ture","interval":30},
    start_time: "2019-07-01",
    passwords: ["3cfd009be3e1c39b5075a477f946fbd5322ac1a8176d9fc527e38fd6a0f246c3", ],
    is_post: true,
    lock: false,
    author: "Peng Xuefeng",
    share: {"twitter":true,"facebook":true,"weibo":true,"qq":true,"wechat":true},
    mathjax: true,
    page_type: "",
    root: "/"
  };
</script>

  <script src="/vendor/sha256.min.js"></script>
<script src="/js/auth.js"></script>
<script src="/js/index.js"></script>
<script src="/vendor/qrcode.min.js"></script>

  
    <link rel="icon" href="/images/favicon.ico">
    <link rel="apple-touch-icon" href="/images/touch-icon.png">
  

  <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/css/index.css">
<link rel="stylesheet" href="/styles/components/highlight/highlight.css">

  


</head>
  <body>
    <header class="site-header">
  <div class="site-header-brand">
    
      <span class="site-header-brand-title">
        <a href="/">HI</a>
      </span>
    
    
      <span class="site-header-brand-motto"> | 安静写些东西</span>
    
  </div>
  <div class="site-header-right">
    <nav class="site-header-navigation">
      
        <a href="/" target="_self">首页</a>
      
        <a href="/archives/" target="_self">归档</a>
      
        <a href="/tags/" target="_self">标签</a>
      
        <a href="/categories/" target="_self">分类</a>
      
        <a href="/friends/" target="_self">友链</a>
      
        <a href="/about/" target="_self">关于</a>
      
       
          <a href="#" title="搜索博客" class="st-search-show-outputs">搜索</a>
      
    </nav>
    <div class="site-header-btn">
      
        <a href="https://github.com/xuefeng0324" target="_blank" id="site-github">
          <i class="fa fa-github-alt"></i>
        </a>
      
        <a href="javascript:void(0);" id="site-search">
        <i class="fa fa-search"></i>
      </a>
      <a href="javascript:void(0);" id="site-nav-btn">
        <i class="fa fa-ellipsis-v"></i>
      </a>
    </div>
  </div>
</header>
<nav class="table-content" id="site-nav">
  <div class="table-content-title">
    <span>导航</span>
  </div>
  <div class="table-content-main">
    <ol class="toc">
      
        <li class="toc-item">
          <a href="/" target="_self">
            首页
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/archives/" target="_self">
            归档
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/tags/" target="_self">
            标签
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/categories/" target="_self">
            分类
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/friends/" target="_self">
            友链
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/about/" target="_self">
            关于
          </a>
        </li>
      
      <li class="toc-item">
          
          <a href="#" title="搜索博客" class="st-search-show-outputs">搜索</a>
      
        </li>
    </ol>
  </div>
</nav>


<div id="site-process"></div>
    <main>
      
  <div class="passage">

<!-- Table of Contents -->





  <div class="passage-meta">
    <span>
      <i class="fa fa-calendar"></i>2020-01-11
    </span>
    
      <span>
        | <a href="/categories/C语言/"><i class="fa fa-bookmark"></i>C语言</a>
      </span>
    
    
      <span>
        | <i class="fa fa-unlock-alt"></i>UNLOCK
      </span>
    
  </div>
  <h1 class="passage-title">
    c语言知识
  </h1>
  
  <article class="passage-article">
    <!-- toc -->

<ul>
<li><a href="#main">main()</a></li>
<li><a href="#命名原则">命名原则</a></li>
<li><a href="#寻址">寻址</a></li>
<li><a href="#基本数据类型">基本数据类型</a><ul>
<li><a href="#整型">整型</a></li>
<li><a href="#浮点型">浮点型</a></li>
<li><a href="#字符型">字符型</a></li>
</ul>
</li>
<li><a href="#有符号数和无符号数">有符号数和无符号数</a></li>
<li><a href="#构造数据类型">构造数据类型</a><ul>
<li><a href="#数组">数组</a></li>
<li><a href="#结构体">结构体</a></li>
<li><a href="#共用体">共用体</a></li>
<li><a href="#枚举类型">枚举类型</a></li>
</ul>
</li>
<li><a href="#空类型关键字void">空类型（关键字void)</a></li>
<li><a href="#指针类型">指针类型</a></li>
<li><a href="#函数">函数</a></li>
<li><a href="#宏定义">宏定义</a></li>
<li><a href="#接续符">接续符</a></li>
</ul>
<!-- tocstop -->

<h2 id="main"><a href="#main" class="headerlink" title="main()"></a>main()</h2><blockquote>
<p>main()括号内的固定写法<code>main(int argc,char *argv[ ])</code><br>argc为参数个数，argument count，是整数<br>argv为参数指针，argument vector，argv为指针的指针（可理解为：<code>char **argv or: char *argv[] or: char argv[][]</code><br>argv是一个指针数组他的元素个数是argc，存放的是指向每一个参数的指针）</p>
</blockquote>
<p>下面给出一个例子来理解这两个参数的用法：</p>
<p>①假设程序的名称为prog，当只输入prog，则由操作系统传来的参数为(传给main函数)：argc=1,表示只有一程序名称。argc只有一个元素，即argv[0]指向输入的程序路径及名称：./prog。</p>
<p>②当输入prog para_1，有一个参数，则由操作系统传来的参数为：argc=2，表示除了程序名外还有一个参数。 即argv[0]指向输入的程序路径及名称，argv[1]指向参数para_1字符串。</p>
<p>③当输入prog para_1 para_2 有2个参数，则由操作系统传来的参数为：argc=3，表示除了程序名外还有2个参数。即argv[0]指向输入的程序路径及名称，argv[1]指向参数para_1字符串，argv[2]指向参数para_2字符串。</p>
<h2 id="命名原则"><a href="#命名原则" class="headerlink" title="命名原则"></a>命名原则</h2><blockquote>
<p>C语言常用命名法：驼峰命名法<br>linux常用命名法：单词之间加_</p>
</blockquote>
<ul>
<li>C语言语法与Linux命令都是区分大小写的，不过Linux虚拟机的共享文件夹中，Linux命令对于文件名不区分，例如<code>rm DOC</code>与<code>rm doc</code>的效果是一样的。POSIX 兼容文件系统是区分大小写的。也就是说Linux 是区分大小写的。而且也就是说其实NTFS也是区分大小写的。 不过Windows系统不兼容POSIX，所以Windows不区分大小写。结果就是Windows去读写NTFS分区大小写问题Windows会转换。</li>
<li>POSIX表示可移植操作系统接口（Portable Operating System Interface of UNIX，缩写为 POSIX ），POSIX标准定义了操作系统应该为应用程序提供的接口标准。<br>POSIX标准意在期望获得源代码级别的软件可移植性。换句话说，为一个POSIX兼容的操作系统编写的程序，应该可以在任何其它的POSIX操作系统（即使是来自另一个厂商）上编译执行。</li>
</ul>
<h2 id="寻址"><a href="#寻址" class="headerlink" title="寻址"></a>寻址</h2><blockquote>
<p>CPU最大能查找多大范围的地址叫做寻址能力，CPU的寻址能力以字节为单位,一般32位操作系统就分配4个字节来记录一个地址（32根地址总线），4x8也就是32位。32位寻址的CPU可以寻址2的32次方大小的地址也就是4G（00000000-FFFFFFFF）。事实上CPU寻址能力因每种CPU设计不同而不同，可以用间接寻址获得无限的内存访问（不考虑速度），硬件和操作系统也支持一种36位地址扩展的方法，也叫pae，可以实现最大64GB的内存支持。地址总线的位数决定CPU寻址范围，数据总线的位数决定CPU单次通信能交换的信息数量，32位的CPU和32位的操作系统都是指数据总线为32位。</p>
</blockquote>
<p>2^3bit = 1Bype<br>2^10Bype = 1KB<br>2^10KB = 1MB<br>2^10MB = 1GB<br>例：32根地址总线——2^(30+2)——可以寻址4GB内存</p>
<p>总线可以按照CPU内外来分类：</p>
<ul>
<li>内部总线：在CPU内部，寄存器之间和算术逻辑部件ALU与控制部件之间传输数据所用的总线称为片内部总线。</li>
<li>外部总线：通常所说的总线指片外部总线，是CPU与内存RAM、ROM和输入/输出设备接口之间进行通讯的通路,也称系统总线。</li>
</ul>
<p>按照计算机所传输的信息种类，计算机的总线可以划分为</p>
<ul>
<li>数据总线： 数据总线DB是双向三态形式的总线，即它既可以把CPU的数据传送到存储器或输入输出接口等其它部件，也可以将其它部件的数据传送到CPU。数据总线的位数是微型计算机的一个重要指标，通常与cpu微处理的字长（命令）相一致。我们说的32位，64位计算机指的就是数据总线。</li>
<li>地址总线： 地址总线AB是专门用来传送地址的，由于地址只能从CPU传向外部存储器或I/O端口，所以地址总线总是单向三态的，这与数据总线不同。地址总线的位数决定了CPU可直接寻址的内存空间大小。一根地址总线可以控制一个晶体管是否通电，相当于控制一位二进制数，32根就可以控制32个晶体管的通电情况来代表32位二进制数的范围（00000000-FFFFFFFF）</li>
<li>控制总线：控制总线主要用来传送控制信号和时序信号。控制总线的传送方向由具体控制信号而定，一般是双向的，控制总线的位数要根据系统的实际控制需要而定。其实数据总线和控制总线可以共用。</li>
</ul>
<p>从上述可知，外部总线包括数据总线、地址总线、控制总线。内部总线：在CPU内部，寄存器之间和算术逻辑部件ALU与控制部件之间传输数据所用的总线（的位宽），即本文里说的 min{ALU位宽、通用寄存器位宽｝。而CPU的位宽一般是以 min{ALU位宽、通用寄存器位宽、数据总线位宽}决定的！也就是说CPU由ALU、通用寄存器、数据总线三者之中最少的位宽决定！内部总线和数据总线在一条线上，和地址总线不在一条线上。</p>
<p><a href="https://www.bilibili.com/video/av21376839?p=17" target="_blank" rel="noopener">参考视频1</a><br><a href="https://b23.tv/av9735297" target="_blank" rel="noopener">参考视频2</a></p>
<h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><p><img src="/images/type.jpg" alt></p>
<h4 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h4><blockquote>
<p>C语言中的整型对应数学中的整数，整型变量是用来描述一个整数值的，整形变量经过计算后也只能是整数（整型），不可能出现小数（浮点型），打印变量用%d。</p>
</blockquote>
<p>c语言中整型有三种：</p>
<table>
<thead>
<tr>
<th align="center">关键字</th>
<th align="center">名称</th>
<th align="center">在流行32位编译器的大小(B)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">int</td>
<td align="center">整型</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">short int（short）</td>
<td align="center">短整型</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">long int（long）</td>
<td align="center">长整型</td>
<td align="center">4或8</td>
</tr>
</tbody></table>
<p>C语言并没有硬性规定整型的大小，不同位数的和不同C语言编译器可能不同，但是要遵守以下规则：short&lt;=int&lt;=long。<br>short 至少占用2个字节，int 建议为一个机器字长。(32位环境下机器字长为4字节，64位环境下机器字长为8字节。)在Windows下长整型和整型没有区别，都是4字节，在其他平台，如Linux或Mac下才是8字节。</p>
<h4 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h4><blockquote>
<p>C语言中浮点型对应数学中的小数。浮点型有float和double两种(32位C语言编译器中这两个变量大小一般分别为4字节和8字节)。使用方式相同，不同在于表示范围和精度。float表示的范围小，精度低（小数点后6位）；而double表示范围大，精度高（小数点后16位）。范围是说表示的数有多大，精度是指这个数的分辨率有多细。打印变量用%x.xf。</p>
</blockquote>
<p>不带小数：%3.0f表明待打印的浮点数至少占3个字符宽，且不带小数点和小数部分，整数部分至少占3个位宽。<br>带小数：%6.2f表明待打印的数至少占6个字符宽度（包括两位小数和一个小数点），且小数点后面有2位小数，小数点占一位，所以整数部分至少占3位。</p>
<h4 id="字符型"><a href="#字符型" class="headerlink" title="字符型"></a>字符型</h4><blockquote>
<p>字符型对应ASCII字符。ASCII字符是一种编码，就是用数字编码来表示一个符号的一种方法本质上说，字符型其实也是整形，只是这些整形数被用来表示一些字符的ASCII编码值，所以叫做字符型，打印变量用%c(我尝试过定义整型变量，然后里面存放97，使用%c将其打印，结果是a，两者本质区别只是大小而已)。字符型一般用8位二进制(也就是一个字节)表示，无符号字符型范围是0～255.字符型其实是一种比short还短的整形，并且可以和int相运算(32位C语言编译器字符变量大小一般为1字节)。</p>
</blockquote>
<p><img src="/images//ASCII01.png" alt><br><img src="/images//ASCII02.png" alt></p>
<h2 id="有符号数和无符号数"><a href="#有符号数和无符号数" class="headerlink" title="有符号数和无符号数"></a>有符号数和无符号数</h2><blockquote>
<p>数学中数是有符号的，有整数和负数之分。所以计算机中的数据类型也有符号，分为有符号数和无符号数。</p>
</blockquote>
<ul>
<li>有符号数：<br>整型：<br>signed int（简写为int）<br>signed long，也写作signed long int，（简写为1ong）<br>signed short,也写作signed short int（简写为short)<br>signed（表示signed int）<br>浮点型：<br>signed float(简写为float）<br>signed double(简写为double)<br>字符型：<br>signed char（简写为char)</li>
<li>无符号数：<br>整型：整形有无符号数，用来表示一些编码编号之类的东西。譬如身份证号，房间号<br>unsigned int(没有简写）I<br>unsigned long int(简写unsigned 1ong)<br>unsigned short int(简写为unsigned short）<br>浮点数：没有无符号浮点数。也就是说，小数一般只用在数学概念中，都是有符号的。<br>字符型：字符型有无符号数<br>unsigned char（没有简写）<br>注意：对于整型和字符型来说，有符号数和无符号数表示的范围是不同的。<br>譬如字符型，有符号数范围是-128~127，无符号数的范围是0～255</li>
</ul>
<h2 id="构造数据类型"><a href="#构造数据类型" class="headerlink" title="构造数据类型"></a>构造数据类型</h2><h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><blockquote>
<p>数组就是同一种类型的变量放进了一个组里面。数组定义的时候作为整体定义，使用时拆开为各个元素。</p>
</blockquote>
<ul>
<li>定义：数组中元素类型数组名[数组元素个数]；</li>
<li>初始化：基本数据类型关键字 数组中元素类型数组名[数组元素个数]=｛,,,…｝;无初始化的数组里面的元素是随机数，不完全初始化的数组中未初始化的元素编译器自动赋值为0。定义数组同时初始化，则可以省略数组定义时[]中的长度。C语言编译器会自动推论其长度，推论依据是初始化式中初始化元素的个数。由此可知，省略[]中数组元素个数只有一种情况，那就是后面的初始化式必须为完全初始化。</li>
</ul>
<table>
<thead>
<tr>
<th>初始化</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>无初始化</td>
<td>int a[3];</td>
</tr>
<tr>
<td>完全初始化</td>
<td>int a[3]={1,2,3};int a[]={1,2,3};</td>
</tr>
<tr>
<td>不完全初始化</td>
<td>int a[3]={};int a[3] = {1};gcc支持int a[10]={1, 2, 3, [5] = 6, [9] = 10};</td>
</tr>
</tbody></table>
<ul>
<li>字符数组及它的两种初始化<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字符0的十进制数为48，字符A的十进制数为65，字符a的十进制数为97。</span></span><br><span class="line"><span class="keyword">char</span> a[<span class="number">5</span>]=&#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>&#125;;<span class="comment">//定义并初始化一个字数组</span></span><br><span class="line"><span class="keyword">char</span> a[<span class="number">5</span>]=&#123;<span class="number">97</span>,<span class="number">98</span>,<span class="number">99</span>,<span class="number">100</span>,<span class="number">101</span>&#125;;<span class="comment">//与上面效果一样</span></span><br><span class="line"><span class="keyword">char</span> a[]=&#123;<span class="number">97</span>,<span class="number">98</span>,<span class="number">99</span>,<span class="number">100</span>,<span class="number">101</span>&#125;;<span class="comment">//与上面效果一样</span></span><br><span class="line"><span class="keyword">char</span> a[]=<span class="string">"abcde"</span>;<span class="comment">//字符串方式来初始化字数</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>基础知识：<br>1、在C语言中引用一个单个字符时，应该用单引号括起来。<br>2、在c语言中引用一个字符串时，应该用””括起来，譬如”abcde”，”abcde”实际上有6个字符，分别是’a’’b’’c’’d’’e’’\0’,\0是ASCII码表中的第一个字符，它的编码值是0，对应的字符是空字符（不可见<br>字符，在屏幕上看不见，没法显示，一般要用转义字符方式来显示。譬如’\n’表示回车符，’\t’表示Tab，’\0’代表空字符）</p>
<h4 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h4><blockquote>
<p>结构体是一个集合，集合中包含很多个元素，这些元素的数据类型可以相同，也可以不相同。所以结构体是一种数据封装的方法。结构体存在的意义就在于，把很多数据类型不相同的变量封装在一起，组成一个太的新的数据类型。</p>
</blockquote>
<ul>
<li>使用结构体的步骤：</li>
</ul>
<p>第一步：声明结构体类型。结构体类型的声明是在函数前面（函数最前面==全局）的，就好比int类型，定义出来的MyStruct就相当于是一个数据类型。<code>struct MyStruct{int a;char b;};</code>结构体<label style="color:red">类型<label style="color:black">的声明的写法就像是定义函数，并且使用也有所不同，函数的定义可以放在调用处的后面，只需在前面声明一下即可。但是结构体类型的声明必须放在使用结构体类型定义结构体变量的前面。<br>第二步：使用第一步定义的类型来定义结构体变量。可以定义全局变量和局部变量。结构体<label style="color:red">变量<label style="color:black">的定义的写法和普通类型的定义差不多，但是前面必须加上struct关键字。</label></label></label></label></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MyStruct</span>&#123;</span><span class="keyword">int</span> a;<span class="keyword">char</span> b;&#125;s1,s2,s3;<span class="comment">//在所有函数前面，定义全局变量,</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MyStruct</span> <span class="title">s1</span>;</span><span class="comment">//在某个函数内，定义局部变量</span></span><br></pre></td></tr></table></figure>

<p>第三步：使用变量。通常所说的结构体变量，实际上使用的是结构体变量中封装的各个子元素，而不是结构体变量本身。结构体变量不能相加、不能相减，也不能相互乘除，但结构体变量可以相互赋值，但前提是这两个结构体变量的结构体类型必须相同。不能将一个结构体变量作为一个整体进行引用，只能分别单独引用它内部的成员，引用方式为：<code>结构体变量名.成员名</code>例如<code>s1.a</code>。“.”是“成员运算符”，它在所有运算符中优先级最高，如果结构体类型中的成员也是一个结构体类型，则要用若干个“.”，一级一级地找到最低一级的成员。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Age</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> year;</span><br><span class="line">    <span class="keyword">int</span> month;</span><br><span class="line">    <span class="keyword">int</span> day;</span><br><span class="line">&#125;;<span class="comment">//出生年月日</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Age</span> <span class="title">birthday</span>;</span></span><br><span class="line">    <span class="keyword">float</span> score;</span><br><span class="line">&#125;;<span class="comment">//学生信息</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">s1</span>;</span></span><br><span class="line">	s1.name = <span class="string">"pxf"</span>;</span><br><span class="line">	s1.num = <span class="number">20170310441</span>；</span><br><span class="line">	s1.birthday.year = <span class="number">1998</span>;</span><br><span class="line">	s1.birthday.month = <span class="number">3</span>;</span><br><span class="line">	s1.birthday.day = <span class="number">24</span>;</span><br><span class="line">	s1.score = <span class="number">100</span>;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">s2</span> = &#123;</span><span class="string">"小明"</span>, <span class="number">1207041</span>, &#123;<span class="number">1989</span>, <span class="number">3</span>, <span class="number">29</span>&#125;, <span class="number">100</span>&#125;;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>结构体变量的引用方式决定了：“结构体变量名”可以与“结构体类型名”同名。“结构体变量名”可以与“结构体成员名”同名。“两个结构体类型定义的结构体变量中的成员可以同名”。就比如定义了一个结构体类型用于存放学生的信息，里面有成员“char name[20]；”，那么如果又定义了一个结构体类型用于存放老师的信息，那么里面也可以有成员“char name[20]；”。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> 结构体类型名 结构体变量名</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	数据类型名 结构体成员名;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">S</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> S;</span><br><span class="line">&#125;S;</span><br></pre></td></tr></table></figure>

<ul>
<li>结构体的初始化</li>
</ul>
<p>作为全局变量初始化</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MyStruct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> a;</span><br><span class="line">	<span class="keyword">char</span> c;</span><br><span class="line">	<span class="keyword">float</span> f;</span><br><span class="line">	<span class="keyword">double</span> d;</span><br><span class="line">&#125;s1 = &#123;<span class="number">100</span>,<span class="string">'d'</span>,<span class="number">12.445</span>,<span class="number">111.111111111111</span>&#125;,s2 = &#123;<span class="number">100</span>,<span class="string">'d'</span>,<span class="number">12.445</span>,<span class="number">111.111111111111</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>结构体变量和普通变量一样，作为局部变量初始化时，如果定义的时候无初始化也无显式赋值，则结构体变量中的子元素的值是随机的。<br>正确示例</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MyStruct</span> <span class="title">s</span> = &#123;</span><span class="number">100</span>,<span class="string">'d'</span>,<span class="number">12.445</span>,<span class="number">111.111111111111</span>&#125;;<span class="comment">//ok，完全初始化</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MyStruct</span> <span class="title">s</span> =</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	s.a=<span class="number">1444</span>，</span><br><span class="line">	s.c=<span class="string">'k'</span></span><br><span class="line">	s.f=<span class="number">3.13</span>，</span><br><span class="line">	s.d=<span class="number">32.222222</span>，</span><br><span class="line">&#125;;<span class="comment">//只能从前到后依次初始化，中间不能空，但是不报错，容易出错</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MyStruct</span> <span class="title">s</span> =</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="comment">//.a=1444，</span></span><br><span class="line">	.c=<span class="string">'k'</span>，</span><br><span class="line">	.f=<span class="number">3.13</span>，</span><br><span class="line">	.d=<span class="number">32.222222</span>，</span><br><span class="line">&#125;;<span class="comment">//可以，并且可以不按顺序赋值,实现部分初始化</span></span><br></pre></td></tr></table></figure>

<p>错误示例</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MyStruct</span> <span class="title">s</span> =&#123;</span><span class="number">100</span>;<span class="string">'d'</span>;<span class="number">12.445</span>;<span class="number">111.111111111111</span>&#125;;<span class="comment">//不行</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MyStruct</span> <span class="title">s</span> =</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">s.a=<span class="number">1444</span>；</span><br><span class="line">	S.c=<span class="string">'k'</span>;</span><br><span class="line">	S.f=<span class="number">3.13</span>；</span><br><span class="line">	s.d=<span class="number">32.222222</span>；</span><br><span class="line">&#125;;<span class="comment">//赋值规则和数组类似，不能用分号</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MyStruct</span> <span class="title">s</span> =</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	a=<span class="number">1444</span>，</span><br><span class="line">	c=<span class="string">'k'</span>，</span><br><span class="line">	f=<span class="number">3.13</span>，</span><br><span class="line">	d=<span class="number">32.222222</span>，</span><br><span class="line">）；<span class="comment">//错误，.是不能省略的</span></span><br><span class="line">struct MyStruct s =</span><br><span class="line">&#123;</span><br><span class="line">	.=<span class="number">1444</span>，</span><br><span class="line">	.=<span class="string">'k'</span>，</span><br><span class="line">	.=<span class="number">3.13</span>，</span><br><span class="line">	.=<span class="number">32.222222</span>，</span><br><span class="line">&#125;；<span class="comment">//不行，.后面的元素名不可省略。</span></span><br></pre></td></tr></table></figure>

<h4 id="共用体"><a href="#共用体" class="headerlink" title="共用体"></a>共用体</h4><blockquote>
<p>共用体是一种特殊的数据类型，允许在相同的内存位置存储不同的数据类型。可以定义一个带有多成员的共用体，但是任何时候只能有一个成员带有值,修改一个成员会影响其余所有成员。共用体提供了一种使用相同的内存位置的有效方式,占用的内存大于等于所有成员占用的内存的总和（成员之间可能会存在缝隙），共用体占用的内存等于最长的成员占用的内存。和结构体类似，共用体的使用也是分为声明、定义、初始化和使用共用体成员变量（具体参考结构体）。</p>
</blockquote>
<ul>
<li>共用体的使用</li>
</ul>
<p>经常使用到的一个实例是： 现有一张关于学生信息和教师信息的表格。学生信息包括姓名、编号、性别、职业、分数，教师的信息包括姓名、编号、性别、职业、教学科目。结合结构体和共用体能简化代码和节省空间。一般是结构体里面放共用体，如果是共用体里面放结构体的话，一次性需要多个变量的话，就要在每个结构体里面定义多个结构体成员。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TOTAL 4  <span class="comment">//人员总数</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">char</span> sex;</span><br><span class="line">    <span class="keyword">char</span> profession;</span><br><span class="line">    <span class="keyword">union</span>&#123;</span><br><span class="line">        <span class="keyword">float</span> score;</span><br><span class="line">        <span class="keyword">char</span> course[<span class="number">20</span>];</span><br><span class="line">    &#125; sc;</span><br><span class="line">&#125; bodys[TOTAL];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="comment">//输入人员信息</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;TOTAL; i++)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Input info: "</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s %d %c %c"</span>, bodys[i].name, &amp;(bodys[i].num), &amp;(bodys[i].sex), &amp;(bodys[i].profession));</span><br><span class="line">        <span class="keyword">if</span>(bodys[i].profession == <span class="string">'s'</span>)&#123;  <span class="comment">//如果是学生</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%f"</span>, &amp;bodys[i].sc.score);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;  <span class="comment">//如果是老师</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>, bodys[i].sc.course);</span><br><span class="line">        &#125;</span><br><span class="line">        fflush(<span class="built_in">stdin</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//输出人员信息</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\nName\t\tNum\tSex\tProfession\tScore / Course\n"</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;TOTAL; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(bodys[i].profession == <span class="string">'s'</span>)&#123;  <span class="comment">//如果是学生</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s\t%d\t%c\t%c\t\t%f\n"</span>, bodys[i].name, bodys[i].num, bodys[i].sex, bodys[i].profession, bodys[i].sc.score);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;  <span class="comment">//如果是老师</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s\t%d\t%c\t%c\t\t%s\n"</span>, bodys[i].name, bodys[i].num, bodys[i].sex, bodys[i].profession, bodys[i].sc.course);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="枚举类型"><a href="#枚举类型" class="headerlink" title="枚举类型"></a>枚举类型</h4><blockquote>
<p>#define命令虽然能解决问题，但也带来了不小的副作用，导致宏名过多，代码松散，看起来总有点不舒服。C语言提供了一种枚举（Enum）类型，能够列出所有可能的取值，并给它们取一个名字。C语言没有bool类型，C++才有，可以用宏定义来定义TRUE和FALSE。</p>
</blockquote>
<ul>
<li><p>枚举类型的定义形式（定义一个类型）：<code>enum typeName{ valueName1, valueName2, valueName3, ...... };</code></p>
</li>
<li><p>枚举类型的初始化（定义的时候初始化）：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> WEEK&#123; Mon = <span class="number">1</span>, Tues = <span class="number">2</span>, Wed = <span class="number">3</span>, Thurs = <span class="number">4</span>, Fri = <span class="number">5</span>, Sat = <span class="number">6</span>, Sun = <span class="number">7</span> &#125;;	<span class="comment">//完全初始化</span></span><br><span class="line"><span class="keyword">enum</span> WEEK&#123; Mon = <span class="number">1</span>, Tues, Wed, Thurs, Fri, Sat, Sun &#125;;		<span class="comment">//部分初始化</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>定义枚举变量<code>enum WEEK a, b, c;</code></p>
</li>
<li><p>定义类型、初始化、定义枚举变量<code>enum WEEK{ Mon = 1, Tues, Wed, Thurs, Fri, Sat, Sun } a, b, c;</code></p>
</li>
<li><p>赋值给枚举变量<code>a = Mon; b = Wed; c = Sat;</code></p>
</li>
<li><p>定义枚举类型、初始化、定义枚举变量并赋值</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> week&#123; Mon = <span class="number">1</span>, Tues, Wed, Thurs, Fri, Sat, Sun &#125; a = Mon, b = Wed, c = Sat;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>注意：</p>
<ul>
<li>枚举列表中的 Mon、Tues、Wed 这些标识符的作用范围是全局的（严格来说是 main() 函数内部），不能再定义与它们名字相同的变量。</li>
<li>Mon、Tues、Wed 等都是常量，不能对它们赋值，只能将它们的值赋给其他的变量。</li>
<li>枚举和宏其实非常类似：宏在预处理阶段将名字替换成对应的值，枚举在编译阶段将名字替换成对应的值。我们可以将枚举理解为编译阶段的宏。Mon、Tues、Wed 这些名字都会被替换成了对应的数字。这意味着，Mon、Tues、Wed 等都不是变量，它们不占用数据区（常量区、全局数据区、栈区和堆区）的内存，而是直接被编译到命令里面，放到代码区，所以不能用&amp;取得它们的地址，长度和 int类型相同。这就是枚举的本质。</li>
</ul>
<h2 id="空类型（关键字void"><a href="#空类型（关键字void" class="headerlink" title="空类型（关键字void)"></a>空类型（关键字void)</h2><ul>
<li>在函数的参数列表和返回值中，void代表的含义是：<br>一个函数形参列表为void，表示这个函数调用时不需要传参。<br>返回值类型是void，表示这个函数不会返回一个有意义的返回值。所以不使用该返回值。</li>
<li>void *是void类型的指针。void类型的指针的含义是：这是一个指针变量，该指针指向一个<br>void类型的数。void类型的数就是说这个数有可能是int、float、结构体，只有清楚是哪个类型才能准确调用指针。</li>
</ul>
<h2 id="指针类型"><a href="#指针类型" class="headerlink" title="指针类型"></a>指针类型</h2><blockquote>
<p>通常说的指针其实是指针变量，里面存放的是地址，因此指针大小是固定的，打印指针对应地址的内容用%p。</p>
</blockquote>
<ul>
<li><p>基础知识<br>&amp;:取地址符，将它加在某个变量前面，则组合后的符号代表这个变量的地址值。</p>
</li>
<li><p>：指针符号。指针符号在指针定义和指针操作的时候，解析方法是不同的。int <em>p；定义指针变量p，这里的`</em>`含义不是代表指针变量p所指向的那个变量，在定义时这里的*含义是告诉编译器p是一个指针。</p>
</li>
<li><p>指针的定义和初始化</p>
</li>
</ul>
<p>第一种：先定义再赋值</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *p1；<span class="comment">//定义指针变量p</span></span><br><span class="line"><span class="keyword">int</span>* p2；<span class="comment">//可以</span></span><br><span class="line"><span class="keyword">int</span> *p3;<span class="comment">//可以，而且三种写法效果一样</span></span><br><span class="line">p1 = &amp;a;<span class="comment">//给p赋值</span></span><br><span class="line">p2 = &amp;b;</span><br><span class="line">p3 = &amp;c;</span><br></pre></td></tr></table></figure>

<p>第二种：定义的同时初始化</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> *p=&amp;a;<span class="comment">//效果等同于上面的两句</span></span><br></pre></td></tr></table></figure>

<ul>
<li>不同类型的指针<br>指针变量本质上是一个变量，指针变量的类型属于指针类型。<code>int *p</code>；定义了一个指针类型的变量p，这个p所指向的那个变量是int型。各种指针类型和它们所指向的变量类型必须匹配，否则结果不可预知。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>	*pInt;<span class="comment">//pInt是指针变量，指向的变量是int类型</span></span><br><span class="line"><span class="keyword">char</span>	*pchar;<span class="comment">//pchar是指针类型，指向的变量是char类型</span></span><br><span class="line"><span class="keyword">float</span>	*pFloat;</span><br><span class="line"><span class="keyword">double</span>	*pDouble;</span><br></pre></td></tr></table></figure>

<p>前面说到指针都是4字节的，都是存放地址的，不管是int类型的指针还是char类型的都一样，那么为什么还是要有各种类型的指针？一个原因是方便设置指针的增量，比如说int类型在某个编译器是4个字节的，指针p指向int类型的变量a，那p++指向的是&amp;a+4这个地址的变量。另一个原因是为了类型安全，定义指针的类型帮助编译器发现你是否用了错误的类型，这也是C为什么要有类型的最初原因。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">double</span> b = <span class="number">13</span>;</span><br><span class="line">	<span class="keyword">double</span> *p_b = &amp;b;</span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">9</span>;</span><br><span class="line">	<span class="keyword">int</span> *p_a = &amp;a;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"int类型变量a的地址：%p，指针+1后的地址：%p"</span>,p_a,p_a+<span class="number">1</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"double类型变量a的地址：%p，指针+1后的地址：%p"</span>,p_b,p_b+<span class="number">1</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>指针与数组的初步结合<br>数组名：做右值时，数组名表示数组的首元素首地址，因此可以直接赋值给指针。<br>如果有int a[5]；则a和&amp;a[0]都表示数组首元素a[0]的首地址。&amp;a则表示数组的首地址。<br>如果用int类型指针p指向&amp;a，编译器会警告，但不会报错，结果也是正确的。但是最好是将&amp;a赋值给数组类型的指针。</li>
</ul>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><blockquote>
<p>函数有助于让人看懂代码，理清逻辑。</p>
</blockquote>
<ul>
<li><p>函数类型：主函数（main）、库函数、自定义函数<br>C语言中所谓的主函数就是一种特别的函数。一个c语言程序只能有且必须有一个main函数。c语言规定，一个c语言程序从主函数开始执行，到主函数执行完结束。库函数，例如：printf函数的作用是用来在标准输出中打印信息。这个函数是c语言标准库提供的一个库函数。在c语言中写代码时可以引用库函数，但是必须使用#include引用这个库函数所在的头文件。自己写的函数需要有三要素：定义、声明、调用。</p>
</li>
<li><p>函数三要素<br>函数定义：函数定义中包含了函数体，函数体中的代码段，决定了这个函数的功能。<br>函数声明：函数声明实际上是叫函数原型声明。函数的原型包含三部分：函数名，返回值类型，函数参数列表。<br>函数调用：函数调用就是使用函数名来调用函数完成功能。调用时必须参照原型给函数传参，然后从函数得到适当的返回值作为结果。|</p>
</li>
<li><p>函数的参数<br>形参：形式参数的简称。在函数定义和函数声明中的参数列表中的参数，都是形参。<br>实参：实际参数的简称。函数调用中，实际传递的参数才是实参。<br>函数调用的过程，其实就是实参传递给形参的一个过程。这个传递实际是一次拷贝。实际参数的时候，实参（本质是一个变量）本身并没有进入到函数内，而是把自己的值复制了一份传给了函数中的形参，在函数中参与运算。这种传参方法，就叫做传值调用，当参数是指针的时候是传址调用。</p>
</li>
<li><p>返回值：（关键字return)<br>当函数执行完之后，会给调用该函数的地方返回一个值。这个值的类型就是函数声明中返回值类型，这个值就是函数体中最后一句return xxx；返回的那个值。</p>
</li>
</ul>
<h2 id="宏定义"><a href="#宏定义" class="headerlink" title="宏定义"></a>宏定义</h2><blockquote>
<p>#define 叫做宏定义命令，它也是C语言预处理命令的一种。所谓宏定义，就是用一个标识符来表示一个字符串，如果在后面的代码中出现了该标识符，那么就全部替换成指定的字符串。一般形式：<code>#define  宏名  字符串</code></p>
</blockquote>
<blockquote>
<p><code>#define N 100</code>就是宏定义，N为宏名，100是宏的内容（宏所表示的字符串）。在预处理阶段，对程序中所有出现的“宏名”，预处理器都会用宏定义中的字符串去代换，这称为“宏替换”或“宏展开”。宏定义是由源程序中的宏定义命令#define完成的，宏替换是由预处理程序完成的。#表示这是一条预处理命令，所有的预处理命令都以 # ,它不需要双引号。</p>
</blockquote>
<blockquote>
<p>程序中反复使用的表达式就可以使用宏定义，例如：<code>#define M (n*n+3*n)</code>的地方都可以用 M 来表示，而对源程序编译时，将先由预处理程序进行宏代替，即用 (y<em>y+3</em>y) 去替换所有的宏名 M，然后再进行编译。需要注意的是，在宏定义中表达式(n<em>n+3</em>n)两边的括号不能少，否则在宏展开以后可能会产生歧义。</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> S(r) (PI*r*r)<span class="comment">//过算园面积的宏</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> L(r) (2*PI*r)<span class="comment">//过篡圆的周长的宏</span></span></span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li><p>使用宏定义最好将整个表达式和里面不确定的值用括号括起来。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI (3.14)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> S(r) (PI*(r)*(r))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> L(r) (2* PI*(r))</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FEC PER_YEAR (365*24*60*60)UL	<span class="comment">//使用宏定义定义一个宏，表示一年中的秒数，UL表示无符号长整型</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>习惯上宏名用大写字母表示，以便于与变量区别。但也允许用小写字母。</p>
</li>
<li><p>宏定义不是说明或语句，在行末不必加分号，如加上分号则连分号也一起替换。</p>
</li>
<li><p>宏定义必须写在函数之外，其作用域为宏定义命令起到源程序（main函数）结束。如要终止其作用域可使用#undef命令。</p>
</li>
<li><p>代码中的宏名如果被引号包围，那么预处理程序不对其作宏代替,例如在printf要打印的内容里面。</p>
</li>
<li><p>宏定义允许嵌套，在宏定义的字符串中可以使用已经定义的宏名，在宏展开时由预处理程序层层代换。</p>
</li>
<li><p>可用宏定义表示数据类型，使书写方便。<code>#define UINT unsigned int</code></p>
</li>
<li><p>应注意用宏定义表示数据类型和用 typedef 定义数据说明符的区别。宏定义只是简单的字符串替换，由预处理器来处理；而 typedef 是在编译阶段由编译器处理的，它并不是简单的字符串替换，而给原有的数据类型起一个新的名字，将它作为一种新的数据类型。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PIN1 (int *）</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> *PIN2;	<span class="comment">//也可以写作typedef int (*PIN2);从形式上看这两者相似， 但在实际使用中却不相同。</span></span><br><span class="line">PIN1 a, b;	<span class="comment">//在宏代换后变成：int * a, b;表示 a 是指向整型的指针变量，而 b 是整型变量。</span></span><br><span class="line">PIN2 a,b;	<span class="comment">//表示 a、b 都是指向整型的指针变量。因为 PIN2 是一个新的、完整的数据类型。</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="接续符"><a href="#接续符" class="headerlink" title="接续符"></a>接续符</h2><blockquote>
<p>c语言中的反斜杠()同时具有接续符与转义符的作用，但是当接续符或转义符是有限定条件的。</p>
</blockquote>
<ul>
<li>作为接续符使用时可直接出现在程序中</li>
<li>作为转义符使用时需出现在单引号或双引号之间</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"    *   \</span></span><br><span class="line"><span class="string">              \n   ***  \</span></span><br><span class="line"><span class="string">              \n  ***** \</span></span><br><span class="line"><span class="string">              \n   ***  \</span></span><br><span class="line"><span class="string">              \n    *   \</span></span><br><span class="line"><span class="string">              \n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
  </article>
  <aside class="table-content" id="site-toc">
  <div class="table-content-title">
    <i class="fa fa-arrow-right fa-lg" id="site-toc-hide-btn"></i>
    <span>目录</span>
  </div>
  <div class="table-content-main">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#main"><span class="toc-text">main()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#命名原则"><span class="toc-text">命名原则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#寻址"><span class="toc-text">寻址</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#基本数据类型"><span class="toc-text">基本数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#整型"><span class="toc-text">整型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#浮点型"><span class="toc-text">浮点型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#字符型"><span class="toc-text">字符型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#有符号数和无符号数"><span class="toc-text">有符号数和无符号数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#构造数据类型"><span class="toc-text">构造数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#数组"><span class="toc-text">数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#结构体"><span class="toc-text">结构体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#共用体"><span class="toc-text">共用体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#枚举类型"><span class="toc-text">枚举类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#空类型（关键字void"><span class="toc-text">空类型（关键字void)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#指针类型"><span class="toc-text">指针类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数"><span class="toc-text">函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#宏定义"><span class="toc-text">宏定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#接续符"><span class="toc-text">接续符</span></a></li></ol>
  </div>
</aside>
  
    <aside class="passage-copyright">
      <div>本文作者: 彭雪峰</div>
      
        <div>
          原文链接: 
          <a href="" target="_blank">https://xuefeng0324.github.io/passages/2020-01-11-c语言知识/</a>
        </div>
      
      <div>
        版权声明: 本博客所有文章除特别声明外, 均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议. 转载请注明出处!
      </div>
    </aside>
  
  
</div>

    </main>
    
      
<div class="site-comment-contanier" data-plateform="leancloud">
  
    <p id="site-comment-info">
      <i class="fa fa-spinner fa-spin"></i> 评论加载中
    </p>
    <div id="site-comment"></div>
  
</div>
    
    <div class="site-footer-wrapper">
  <footer class="site-footer">
    
      
        <div class="site-footer-col">
          <h5 class="site-footer-title">博客推荐</h5>
          
            <span class="site-footer-item">
              <a href="https://godbmw.com/" target="_blank">GodBMW</a>
            </span>
          
            <span class="site-footer-item">
              <a href="https://tari0510.github.io/" target="_blank">某大佬的个人网站</a>
            </span>
          
        </div>
      
        <div class="site-footer-col">
          <h5 class="site-footer-title">系列教程</h5>
          
            <span class="site-footer-item">
              <a href="https://godbmw.com/categories/webpack4%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/" target="_blank">webpack4系列教程</a>
            </span>
          
            <span class="site-footer-item">
              <a href="https://godbmw.com/design-patterns/" target="_blank">设计模式手册</a>
            </span>
          
        </div>
      
        <div class="site-footer-col">
          <h5 class="site-footer-title">有问题</h5>
          
            <span class="site-footer-item">
              <a href="https://www.baidu.com/" target="_blank">百度一下</a>
            </span>
          
            <span class="site-footer-item">
              <a href="https://www.google.cn" target="_blank">谷歌一下</a>
            </span>
          
        </div>
      
    
    <div class="site-footer-info">
      <i class="fa fa-clock-o"></i> 本站已稳定运行<span id="site-time"></span>
    </div>
    
      <div class="site-footer-info">
        <i class="fa fa-paw"></i> 您是本站第 <span id="site-count"></span> 位访客
      </div>
    
    
      <div class="site-footer-info">
        <i class="fa fa-at"></i> Email: 1150390191@qq.com
      </div>
    
    <div class="site-footer-info">
      <i class="fa fa-copyright"></i> 
      2019 <a href="https://github.com/dongyuanxin/theme-ad/" target="_blank">Theme-AD</a>.
      Created by <a href="https://godbmw.com/" target="_blank">GodBMW</a>.
      All rights reserved.
    </div>
          <body>
</script>
    <script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');
  
  _st('install','zmpwYeV-CpHfi2xHtEBD','2.0.0');
</script>
    </body>
  </footer>
</div>









    <div id="site-layer" style="display:none;">
  <div class="site-layer-content">
    <div class="site-layer-header">
      <span class="site-layer-header-title" id="site-layer-title"></span>
      <i class="fa fa-close" id="site-layer-close"></i>
    </div>
    <div class="site-layer-body" id="site-layer-container">
      <div class="site-layer-input" id="site-layer-search" style="display: none;">
        <div class="site-layer-input-choose">
          <a href="javascript:void(0);" title="Change Search Engine">Google</a>
        </div>
        <input type="text">
        <i class="fa fa-search"></i>
      </div>
      
        <div class="site-layer-reward" id="site-layer-reward" style="display: none;">
          
            <div>
              <img src="/images/wechat.png" alt="WeChat">
              
                <p>WeChat</p>
              
            </div>
          
            <div>
              <img src="/images/alipay.png" alt="AliPay">
              
                <p>AliPay</p>
              
            </div>
          
        </div>
      
      <div id="site-layer-welcome" style="display:none;"></div>
    </div>
  </div>
</div>
    

<div class="bottom-bar">
  <div class="bottom-bar-left">
    <a href="/passages/2020-01-26-c语言知识2/" data-enable="true">
      <i class="fa fa-arrow-left"></i>
    </a>
    <a href="/passages/2020-01-02-Linux高阶命令/" data-enable="true">
      <i class="fa fa-arrow-right"></i>
    </a>
  </div>
  <div class="bottom-bar-right">
    <a href="javascript:void(0);" data-enable="true" id="site-toc-show-btn">
      <i class="fa fa-bars"></i>
    </a>
    
      <a href="#site-comment" data-enable="true">
        <i class="fa fa-commenting"></i>
      </a>
    
    <a href="javascript:void(0);" id="site-toggle-share-btn">
      <i class="fa fa-share-alt"></i>
    </a>
    
      <a href="javascript:void(0);" id="site-reward">
        <i class="fa fa-thumbs-up"></i>
      </a>
    
    <a href="javascript:void(0);" id="back-top-btn">
      <i class="fa fa-chevron-up"></i>
    </a>
  </div>
</div>
    <div id="share-btn">
  
    <a id="share-btn-twitter" href="javascript:void(0);" target="_blank">
      <i class="fa fa-twitter"></i>
    </a>
  
  
    <a id="share-btn-facebook" href="javascript:void(0);" target="_blank">
      <i class="fa fa-facebook"></i>
    </a>
  
  
    <a id="share-btn-weibo" href="javascript:void(0);" target="_blank">
      <i class="fa fa-weibo"></i>
    </a>
  
  
    <a id="share-btn-qq" href="javascript:void(0);" target="_blank">
      <i class="fa fa-qq"></i>
    </a>
  
  
    <a id="share-btn-wechat" href="javascript:void(0);" target="_blank">
      <i class="fa fa-wechat"></i>
    </a>
  
</div>
    
  <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
  <script async>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', '');
  </script>



  <script async>
  (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();
  </script>




    
  </body>
</html>